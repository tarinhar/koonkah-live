{% extends 'base/main.html' %} {% load static %} {% block content %}

<!-- {% if messages %}
{% for message in messages %}
<div class="alert {% if message.tags %}alert-{{ message.tags }}{% elif message.tags == 'warning' %}alert-danger{% else %}alert-primary{% endif %} d-flex align-items-center alert-dismissible fade show" role="alert">
    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
    <div>
      {{ message }}
    </div>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" aria-hidden="true"></button>
  </div> 
{% endfor %}
{% endif %} -->

<section class="">
  <div class="container p-3">
    <div class="text-md-start text-center pt-3 mb-3">
      {% if category_name == None %}
      <h2 class="fw-bold">หมวดหมู่: ทั้งหมด</h2>

      {% else %}
      <h2 class="fw-bold">หมวดหมู่: {{ category.name_th }}</h2>

      {% endif %}
    </div>

    <div class="row">
      <div class="col-8">
        <div class="col-12 mb-3">
          <nav
            style="
              --bs-breadcrumb-divider: url(
                &#34;data:image/svg + xml,
                %3Csvgxmlns='http://www.w3.org/2000/svg'width='8'height='8'%3E%3Cpathd='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z'fill='currentColor'/%3E%3C/svg%3E&#34;
              );
            "
            aria-label="breadcrumb"
          >
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a
                  href="{% url 'home' %}"
                  class="text-decoration-none text-dark"
                  >หน้าแรก</a
                >
              </li>
              <li class="breadcrumb-item">
                <a
                  href="{% url 'category' %}"
                  class="text-decoration-none text-dark"
                  >หมวดหมู่</a
                >
              </li>
              {% if category.name %}
              <li class="breadcrumb-item active" aria-current="page">
                {{ category.name_th }}
              </li>

              {% endif %}
            </ol>
          </nav>
        </div>
      </div>

      {% if items %}

      <div class="col-4 text-end">
        <div class="d-md-block d-none">
          <a
            href="{% url 'item-create' %}"
            class="btn btn-sm btn-dark rounded-pill px-3"
            role="button"
            ><i class="fa-solid fa-plus me-1"></i> เพิ่มรายการใหม่</a
          >
        </div>
        <div class="d-block d-md-none">
          <a href="{% url 'item-create' %}" class="" role="button"
            ><i class="fa-solid fa-circle-plus text-dark fs-1 fs-1"></i
          ></a>
        </div>
      </div>

      {% endif %}
    </div>
    {% if not items %}
    <div
      class="bg-light mx-auto text-center align-items-center text-secondary py-5"
    >
      <div class="container">
        <h1 class="fw-bold mb-3">Sorry!</h1>
        <h4 class="">
          ไม่พบรายการวัสดุในหมวดหมู่:
          <span class="fw-bold">{{ category.name_th }}</span>.
        </h4>
      </div>
      <a
        href="{% url 'item-create' %}"
        class="btn btn btn-outline-secondary border-1 rounded-pill shadow mt-5 px-4"
        ><i class="fa-solid fa-plus me-2"></i>เพิ่มใหม่</a
      >
    </div>

    {% endif %}
    <div class="row pb-5 mb-4 g-4">
      {% include 'base/item_component.html' %}
    </div>
  </div>
</section>

{% endblock %}
